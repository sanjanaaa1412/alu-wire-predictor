<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ALUPREDICT Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <style>
    body {
      background: linear-gradient(135deg, #3c1053, #ad5389);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #fff;
    }
    .sidebar {
      background-color: #2E2E4D;
      min-height: 100vh;
      padding: 20px 10px;
    }
    .btn-sidebar {
      background-color: #2E2E4D;
      border: none;
      width: 100%;
      text-align: left;
      padding: 10px;
      color: white;
      transition: background-color 0.3s;
      border-radius: 0;
    }
    .btn-sidebar:hover, .btn-sidebar.active {
      background-color: #373760;
      cursor: pointer;
    }
    .scrollable-content {
      height: 100vh;
      overflow-y: auto;
      padding: 20px;
    }
    .card-custom {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 10px;
      height: 240px;
    }
    .kpi-card {
      text-align: center;
      padding: 10px;
      border: 2px solid gold;
      border-radius: 10px;
      background-color: rgba(0,0,0,0.3);
      color: #fff;
    }
    .highlight {
      font-size: 1.75rem;
      color: yellow;
    }
    canvas {
      background-color: transparent !important;
      border-radius: 10px;
    }
    .star-box {
      border: 2px solid gold;
      border-radius: 10px;
      text-align: center;
      background-color: rgba(255, 255, 255, 0.1);
      padding: 10px;
      font-weight: bold;
      font-size: 0.9rem;
      width: 100%;
      max-width: 200px;
    }
    .dashboard-title {
      font-size: 1.6rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="row h-100">

      <!-- Sidebar -->
      <div class="col-md-2 sidebar d-flex flex-column justify-content-between">
        <div>
          <button class="btn-sidebar" onclick="location.href='Predict copy 2.html'">Predict Properties</button>
          <button class="btn-sidebar" onclick="location.href='Predict copy 2.html'">Batch History</button>
          <button class="btn-sidebar active">Dashboard</button>
        </div>
        <!-- ‚úÖ Modified to trigger modal -->
        <div class="d-flex align-items-center p-2 mt-4" style="cursor: pointer;" onclick="showWorkerInfo()">
          <img src="worker.png" alt="Worker" style="width: 40px; height: 40px; border-radius: 50%; background-color: white; padding: 2px;" />
          <span class="ms-2 text-white" style="font-size: 0.9rem;">Your Profile</span>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col-md-10 scrollable-content">
        <h2 class="text-center mb-4 dashboard-title">üìä ALUPREDICT Quality Dashboard</h2>

        <!-- KPI Cards -->
        <div class="row mb-3">
          <div class="col-md-3"><div class="kpi-card">No. of Workers<br><span class="highlight">3</span></div></div>
          <div class="col-md-3"><div class="kpi-card">Total Predictions<br><span class="highlight">200</span></div></div>
          <div class="col-md-3"><div class="kpi-card">No. of Batches<br><span class="highlight">5</span></div></div>
          <div class="col-md-3">
            <input type="date" class="form-control mb-2">
            <input type="date" class="form-control">
          </div>
        </div>

        <!-- Charts Section -->
        <div class="row align-items-stretch" style="height: 240px;">
          <div class="col-md-5">
            <div class="card-custom">
              <h5 class="text-center">GRADE Distribution</h5>
              <canvas id="barChart"></canvas>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card-custom">
              <h5 class="text-center">Final Status</h5>
              <canvas id="pieChart"></canvas>
            </div>
          </div>
          <div class="col-md-3 d-flex align-items-center">
            <div class="star-box mx-auto">
              üèÜ Star of the Month<br>
              <span class="highlight">Asha</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚úÖ Modal HTML -->
  <!-- ‚úÖ Worker Profile Modal -->
<div class="modal fade" id="workerModal" tabindex="-1" aria-labelledby="workerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="workerModalLabel">üë∑‚Äç‚ôÇÔ∏è Worker Profile</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-dark">
        <p><strong>Name:</strong> Rakesh Sharma</p>
        <p><strong>ID:</strong> WRD-0042</p>
        <p><strong>Role:</strong> Line Supervisor</p>
        <p><strong>Shift:</strong> Night (8PM ‚Äì 4AM)</p>
      </div>
    </div>
  </div>
</div>

  <!-- Charts Script -->
  <script>
    // VERTICAL BAR CHART
    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: ['WE10', 'WE20', 'WC10', 'WE12', 'WE22', 'WC12'],
        datasets: [{
          label: 'Count',
          backgroundColor: '#4dd0e1',
          data: [30, 45, 25, 20, 42, 22]
        }]
      },
      options: {
        plugins: {
          legend: { display: false }
        },
        scales: {
          x: {
            title: { display: true, text: 'Grade Type', color: '#fff' },
            ticks: { color: '#fff' }
          },
          y: {
            beginAtZero: true,
            title: { display: true, text: 'Count', color: '#fff' },
            ticks: { color: '#fff' }
          }
        }
      }
    });

    // PIE CHART
    new Chart(document.getElementById('pieChart'), {
      type: 'pie',
      data: {
        labels: ['Pass', 'Fail'],
        datasets: [{
          backgroundColor: ['#00cc00', '#e60000'],
          data: [57, 43]
        }]
      },
      options: {
        plugins: {
          legend: { display: false },
          title: {
            display: true,
            text: 'Final Status Breakdown',
            color: '#fff'
          },
          datalabels: {
            color: '#fff',
            formatter: (value, context) => {
              const data = context.chart.data.datasets[0].data;
              const total = data.reduce((a, b) => a + b, 0);
              const percentage = ((value / total) * 100).toFixed(1);
              return percentage + '%';
            }
          }
        },
        responsive: true,
        maintainAspectRatio: false
      },
      plugins: [ChartDataLabels]
    });

    // ‚úÖ Modal function
    function showWorkerInfo() {
      const modal = new bootstrap.Modal(document.getElementById('workerModal'));
      modal.show();
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
